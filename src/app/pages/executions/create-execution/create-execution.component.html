<div class="modal-header">
  <h4 class="modal-title modal-header-vertical-center">Create Execution</h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
    <span aria-hidden="true" class="icon icon ion-md-close"></span>
  </button>
</div>

<div class="modal-body">
  <div class="mb-5">
    <job-summary [job]="job"></job-summary>
  </div>

  <form [formGroup]="executionForm">
    <div class="form-group row">
      <label for="priority" class="col-2 col-form-label text-right">Priority</label>
      <div class="col-10">
        <!-- <i class="ion ion-ios-star-outline"></i> -->
        <app-switch formControlName="priority" id="priority" textOn="Yes" textOff="No"></app-switch>
      </div>
    </div>

    <div class="form-group row">
      <label for="plannedFor" class="col-2 col-form-label text-right">Planned for</label>
      <input
        formControlName="plannedFor"
        [owlDateTimeTrigger]="dtPlannedFor"
        [owlDateTime]="dtPlannedFor"
        [min]="minPlannedFor"
        class="form-control col-3 ml-3"
      />
    </div>
    <owl-date-time #dtPlannedFor [showSecondsTimer]="true"></owl-date-time>

    <div *ngIf="job.parametersClassName" class="form-group row">
      <label for="parameters" class="col-2 col-form-label text-right">Parameters</label>
      <div class="col-10">
        <textarea class="form-control" type="text" id="parameters" formControlName="parameters" rows="{{textareaRows}}"></textarea>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <div class="d-flex justify-content-start">
    <button type="button" class="btn btn-outline-secondary mr-2" (click)="getRandomParameters()" [disabled]="loading">
      Random Parameters
    </button>
    <button type="button" class="btn btn-outline-secondary mr-2" (click)="getLatestParameters()" [disabled]="loading">
      Latest Parameters
    </button>
  </div>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-outline-secondary mr-2" (click)="activeModal.dismiss()">Cancel</button>
    <app-save-button (upload)="onExecute()" saveText="Create execution" [loading]="loading"> </app-save-button>
  </div>
</div>
